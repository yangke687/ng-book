<!DOCTYPE html>
<html>
<head>
<script src="angular.min.js"></script>
<meta charset=utf-8 />
<title>JS Bin</title>
</head>
<body ng-app="myApp">
  <div ng-controller="MyController">
    <input ng-model="to"
          type="email" 
          placeholder="Recipient" />
    <textarea ng-model="emailBody"></textarea>
    <pre>{{ previewText }}</pre>
  </div>
  <script>
	angular.module('myApp', [])
	  .controller('MyController', ['$scope','$interpolate',function($scope,$interpolate){
	  	 	$scope.to = 'ari@fullstack.io';
	      	$scope.emailBody = 'Hello {{ to }},\n\nMy name is Ari too!';
	      	$scope.$watch('emailBody',function(body){
	      		if(body){
	      			var template = $interpolate(body);
	      			$scope.previewText = template({ to: $scope.to });
	      		}
	      	});
	  }]);
  </script>
</body>
</html>